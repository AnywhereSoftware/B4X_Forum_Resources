<?xml version="1.0" encoding="UTF-8"?>
<root>
    <doclet-version-NOT-library-version>1.07</doclet-version-NOT-library-version>
    <class>
        <name>com.simplysoftware.ModbusMaster.ModbusMaster</name>
        <shortname>ModbusMaster</shortname>
        <owner>process</owner>
        <event>InitResult(Success As Boolean, Message As String)</event>
        <event>ConnectionCheckDone(IsLive As Boolean, Message As String)</event>
        <event>CoilRead(Success As Boolean, Data() As Boolean, Message As String)</event>
        <event>DiscreteInputRead(Success As Boolean, Data() As Boolean, Message As String)</event>
        <event>HoldingRegisterRead(Success As Boolean, Data() As Short, Message As String)</event>
        <event>InputRegisterRead(Success As Boolean, Data() As Short, Message As String)</event>
        <event>WriteResult(Success As Boolean, Message As String)</event>
        <permission>android.permission.INTERNET</permission>
        <method>
            <name>ReadHoldingRegisters</name>
            <comment>Reads a contiguous block of Holding Registers (Function Code 3).
 The result is returned asynchronously in the HoldingRegisterRead event. The data is returned as an array of Short (16-bit signed integers).
SlaveId: The unique slave address (unit identifier) of the Modbus device.
Start: The starting address of the first register to read (0-based).
Len: The number of registers to read.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>SlaveId</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Start</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Len</name>
                <type>int</type>
            </parameter>
        </method>
        <method>
            <name>Disconnect</name>
            <comment>Disconnects and closes the underlying Modbus TCP connection.
 This should be called when the application exits or the Modbus communication is no longer required.
 After calling this, the connection must be re-initialized using Initialize() before further requests can be made.</comment>
            <returntype>void</returntype>
        </method>
        <method>
            <name>ReadDiscreteInput</name>
            <comment>Reads a contiguous block of Discrete Inputs (Function Code 2).
 The result is returned asynchronously in the DiscreteInputRead event.
SlaveId: The unique slave address (unit identifier) of the Modbus device.
Start: The starting address of the first discrete input to read (0-based).
Len: The number of discrete inputs to read.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>SlaveId</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Start</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Len</name>
                <type>int</type>
            </parameter>
        </method>
        <method>
            <name>ReadCoil</name>
            <comment>Reads a contiguous block of Coil Statuses (Function Code 1).
 The result is returned asynchronously in the CoilRead event.
SlaveId: The unique slave address (unit identifier) of the Modbus device.
Start: The starting address of the first coil to read (0-based).
Len: The number of coils to read.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>SlaveId</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Start</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Len</name>
                <type>int</type>
            </parameter>
        </method>
        <method>
            <name>ReadInputRegisters</name>
            <comment>Reads a contiguous block of Input Registers (Function Code 4).
 The result is returned asynchronously in the InputRegisterRead event. The data is returned as an array of Short (16-bit signed integers).
SlaveId: The unique slave address (unit identifier) of the Modbus device.
Start: The starting address of the first register to read (0-based).
Len: The number of registers to read.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>SlaveId</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Start</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Len</name>
                <type>int</type>
            </parameter>
        </method>
        <method>
            <name>WriteCoil</name>
            <comment>Writes a single Coil value (Function Code 5).
 The result is returned asynchronously in the WriteResult event.
SlaveId: The unique slave address (unit identifier) of the Modbus device.
Offset: The address of the coil to write to (0-based).
Value: The boolean value (True/False) to write to the coil.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>SlaveId</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Offset</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>boolean</type>
            </parameter>
        </method>
        <method>
            <name>WriteRegisters</name>
            <comment>Writes multiple Holding Register values (Function Code 16).
 The result is returned asynchronously in the WriteResult event.
SlaveId: The unique slave address (unit identifier) of the Modbus device.
Start: The starting address of the first register to write (0-based).
Values: An array of 16-bit integer values (Shorts in B4A) to write sequentially starting from the Start address.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>SlaveId</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Start</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Values</name>
                <type>short[]</type>
            </parameter>
        </method>
        <method>
            <name>IsInitialized</name>
            <comment>Checks if the Modbus connection has been successfully initialized and is currently ready to process requests.
 This returns true only after the initial connection heartbeat is successful.
Return type: @return:True if the connection is ready; otherwise, False.</comment>
            <returntype>boolean</returntype>
        </method>
        <method>
            <name>Initialize</name>
            <comment>Initializes the Modbus TCP connection parameters and attempts to connect to the PLC/slave device.
 This function is asynchronous and raises the InitResult event upon completion.
EventName: The prefix used for the callback events (e.g., "MB" will raise MB_InitResult).
Host: The IP address or hostname of the Modbus TCP slave device.
Port: The TCP port of the Modbus slave (usually 502).
Encapsulated: If true, uses Modbus RTU over TCP (Encapsulated) format. Set false for standard Modbus TCP.
KeepAlive: If true, the TCP socket connection is kept alive between requests.
Timeout: The connection and request timeout in milliseconds.
Retries: The number of times the library will retry a failed connection or request.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>ba</name>
                <type>anywheresoftware.b4a.BA</type>
            </parameter>
            <parameter>
                <name>EventName</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Host</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Port</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Encapsulated</name>
                <type>boolean</type>
            </parameter>
            <parameter>
                <name>KeepAlive</name>
                <type>boolean</type>
            </parameter>
            <parameter>
                <name>Timeout</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Retries</name>
                <type>int</type>
            </parameter>
        </method>
        <method>
            <name>WriteRegister</name>
            <comment>Writes a single Holding Register value (Function Code 6).
 The result is returned asynchronously in the WriteResult event.
SlaveId: The unique slave address (unit identifier) of the Modbus device.
Offset: The address of the register to write to (0-based).
Value: The 16-bit integer value (Short in B4A) to write to the register.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>SlaveId</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Offset</name>
                <type>int</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>int</type>
            </parameter>
        </method>
        <property>
            <name>HostAddress</name>
            <returntype>java.lang.String</returntype>
            <comment>Returns the IP address or hostname of the Modbus TCP slave device 
 that was set during the last call to Initialize().</comment>
        </property>
    </class>
    <version>1.0</version>
    <author>Peter Simpson</author>
    <dependsOn>modbus4Android-1.2.jar</dependsOn>
    <dependsOn>commons-logging-1.2.jar</dependsOn>
</root>
