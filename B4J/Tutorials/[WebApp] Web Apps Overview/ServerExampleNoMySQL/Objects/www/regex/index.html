<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <title>B4J - Regex Example</title>
 <link rel="stylesheet" type="text/css" href="index.css" />
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
 <script src="../json/jquery.autosize.js"></script>
 </head>
 <body>
	<h1>B4J - Regex Example</h1>
	<form id="top">
		<label for="pattern">Pattern</label>
		<input type="text" id="pattern" value="(\w+)@(\w+)\.\w+"></input>
		<button type="submit" id="btnParse">Parse</button>
		<input type="checkbox" id="caseSensitive" ><span style="font-family:arial">Case Sensitive</span></input>
		<input type="checkbox" id="multiline" ><span style="font-family:arial">Multiline</span></input>
	</form>
	<div id="main">
		<div id="rawTextDiv">
			<textarea id="textarea">Paste the text here.
john@gmail.com
mike@gmail.com</textarea>
		</div>
		<div id="logsDiv">
		</div>
		<div id="codeDiv">
			<p id="codeP">
				Dim m As Matcher = Regex.Matcher2('pattern', 'options', 'text')<br/>
Do While m.Find<br/>
	&nbsp;Log("Match: " & m.Match)<br/>
	&nbsp;For g = 1 To m.GroupCount<br/>
		&nbsp;&nbsp;Log("Group #" & g & ": " & m.Group(g))<br/>
	&nbsp;Next<br/>
Loop<br/>
			</p>
		</div>
	</div>
	<script>
	$( document ).ready(function() {
		$("#textarea").autosize();
		$("#btnParse").click(function(e) {
			e.preventDefault();
			$.ajax({
				type: "POST",
				url: "regexHelper",
				data: JSON.stringify({ pattern: $("#pattern").val(), 
					text: $("#textarea").val() ,
					case_sensitive: $("#caseSensitive").prop( "checked" ), 
					multiline: $("#multiline").prop( "checked" )}),
			   success: function(result)
			   {
				   if (result.success) {
						$("#logsDiv").html(result.log);
				   }
				   else {
						alert(result.error);
				   }
			   },
			});
			
		});
		$("#textarea").focus(function() {
			var $this = $(this);
			$this.select();
			$this.mouseup(function() {
				$this.unbind("mouseup");
			return false;
			});
		});
	});
	</script>

 </body>
