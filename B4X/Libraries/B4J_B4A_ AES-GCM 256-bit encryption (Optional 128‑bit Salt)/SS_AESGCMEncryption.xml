<?xml version="1.0" encoding="UTF-8"?>
<root>
    <doclet-version-NOT-library-version>1.07</doclet-version-NOT-library-version>
    <class>
        <name>com.simplysoftware.AESGCMEncryption.AESGCMEncryption</name>
        <shortname>AESGCMEncryption</shortname>
        <comment>AESGCMEncryption
 AES‑256 GCM encrypted preferences engine for B4A and B4J.

 Features:
  - AES/GCM/NoPadding authenticated encryption
  - AES‑256 key derived from SHA‑256(password)
  - Optional 128‑bit salt for strengthened key derivation
  - Optional custom 128‑bit salt set via Base64 string
  - Full JSON support (objects, arrays, numbers, booleans, null)
  - Stores and loads B4X Maps and Lists</comment>
        <owner>process</owner>
        <event>Error (Message As String, Tag As Object)</event>
        <method>
            <name>ChangePassword</name>
            <comment>Changes the encryption password and re‑encrypts the stored data using AES‑256 key.
 Returns True if the Password changed successfully
 Returns False if the Old password was incorrect or re‑encryption failed</comment>
            <returntype>boolean</returntype>
            <parameter>
                <name>OldPassword</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>NewPassword</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>GetDouble</name>
            <comment>Returns a stored double value.
 Returns 0.0 if missing or invalid.</comment>
            <returntype>double</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>PutMap</name>
            <comment>Stores a Map and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>anywheresoftware.b4a.objects.collections.Map</type>
            </parameter>
        </method>
        <method>
            <name>GetLong</name>
            <comment>Returns a stored long value.
 Returns 0 if missing or invalid.</comment>
            <returntype>long</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>GetBoolean</name>
            <comment>Returns a stored boolean value.
 Returns False if missing or invalid.</comment>
            <returntype>boolean</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>PutInt</name>
            <comment>Stores an integer value and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>int</type>
            </parameter>
        </method>
        <method>
            <name>GetMap</name>
            <comment>Returns a stored Map.
 Returns an empty Map if missing or invalid.</comment>
            <returntype>anywheresoftware.b4a.objects.collections.Map</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>PutLong</name>
            <comment>Stores a long value and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>long</type>
            </parameter>
        </method>
        <method>
            <name>Remove</name>
            <comment>Removes a key and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>Initialize</name>
            <comment>Initialise the encrypted preferences engine.
  Dir is the  Directory where the encrypted file is stored
  FileName is the Name of the encrypted file
  Password is the Password used to derive the AES‑256 key</comment>
            <returntype>void</returntype>
            <parameter>
                <name>ba</name>
                <type>anywheresoftware.b4a.BA</type>
            </parameter>
            <parameter>
                <name>Dir</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>FileName</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Password</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>PutList</name>
            <comment>Stores a List and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>anywheresoftware.b4a.objects.collections.List</type>
            </parameter>
        </method>
        <method>
            <name>GetList</name>
            <comment>Returns a stored List.
 Returns an empty List if missing or invalid.</comment>
            <returntype>anywheresoftware.b4a.objects.collections.List</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>PutBoolean</name>
            <comment>Stores a boolean value and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>boolean</type>
            </parameter>
        </method>
        <method>
            <name>Clear</name>
            <comment>Clears all stored values and writes to file.</comment>
            <returntype>void</returntype>
        </method>
        <method>
            <name>GetInt</name>
            <comment>Returns a stored integer value.
 Returns 0 if the key does not exist or cannot be parsed.</comment>
            <returntype>int</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>Keys</name>
            <comment>Returns a List of all stored keys.</comment>
            <returntype>anywheresoftware.b4a.objects.collections.List</returntype>
        </method>
        <method>
            <name>GetString</name>
            <comment>Returns a stored string value.
 Returns an empty string if the key does not exist.</comment>
            <returntype>java.lang.String</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>PutString</name>
            <comment>Stores a string value and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>java.lang.String</type>
            </parameter>
        </method>
        <method>
            <name>PutDouble</name>
            <comment>Stores a double value and writes to file.</comment>
            <returntype>void</returntype>
            <parameter>
                <name>Key</name>
                <type>java.lang.String</type>
            </parameter>
            <parameter>
                <name>Value</name>
                <type>double</type>
            </parameter>
        </method>
        <field>
            <name>SetSaltBase64</name>
            <comment>Processes the SetSaltBase64 property if it has been assigned.
  If SetSaltBase64 is non‑empty:
   - Decodes Base64
   - Validates that the decoded salt is exactly 16 bytes
   - On success, stores it in customSalt
   - On failure, raises the Error event
  Clears SetSaltBase64 after processing</comment>
            <returntype>java.lang.String</returntype>
        </field>
    </class>
    <version>1.0</version>
    <author>Peter Simpson</author>
</root>
