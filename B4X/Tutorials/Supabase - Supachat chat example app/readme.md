###  Supabase - Supachat chat example app by Alexander Stolte
### 02/24/2024
[B4X Forum - B4X - Tutorials](https://www.b4x.com/android/forum/threads/157350/)

<https://www.b4x.com/android/forum/threads/b4x-supabase-the-open-source-firebase-alternative.149855/>  
  
This is a simple B4X chat example with supabase as backend.  
  
[MEDIA=youtube]FmPwYFmumMs[/MEDIA]  
  
**Setup Supabase**  

```B4X
create table  
  public."dt_Rooms" (  
    id bigint generated by default as identity,  
    name text not null,  
    created_at timestamp without time zone not null default now(),  
    created_by uuid not null default auth.uid (),  
    constraint dt_Rooms_pkey primary key (id),  
    constraint dt_Rooms_created_by_fkey foreign key (created_by) references auth.users (id)  
  ) tablespace pg_default;
```

  

```B4X
create table  
  public."dt_Chat" (  
    id bigint generated by default as identity,  
    room_id bigint not null,  
    created_at timestamp without time zone not null default now(),  
    created_by uuid not null default auth.uid (),  
    message character varying not null,  
    constraint dt_Chat_pkey primary key (id),  
    constraint dt_Chat_created_by_fkey foreign key (created_by) references users (id),  
    constraint dt_Chat_room_id_fkey foreign key (room_id) references "dt_Rooms" (id) on delete cascade  
  ) tablespace pg_default;
```

  
We need a join on the auth table, this is not possible, so we need to create a new public.users table and create a database function, so we can call it in a database trigger:  
<https://www.b4x.com/android/forum/threads/supabase-table-joins-with-auth-users.158102/post-970771>  
dont forget to turn on Realtime and set your RLS permissions  
![](https://www.b4x.com/android/forum/attachments/147670)  
  
**Libraries**  

- [AS\_TextfieldAdvanced](https://www.b4x.com/android/forum/threads/b4x-xui-as-textfieldadvanced-title-information-counter-password-button-prefix-suffix-icons-multiline.141337/)
- [AS\_Label](https://www.b4x.com/android/forum/threads/b4x-xui-as-label-crossplatform-label.130752/)
- [Supabase](https://www.b4x.com/android/forum/threads/b4x-supabase-the-open-source-firebase-alternative.149855/)

Have Fun :)  
[![](https://www.b4x.com/android/forum/attachments/paypal-donate-button-png-clipart-png.79848/)](https://www.paypal.com/donate/?hosted_button_id=PBJGJWDDSM6ZG)