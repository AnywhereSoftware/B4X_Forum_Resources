AppType=JavaFX
Build1=Default,com.firebaseauth.rest
File1=frm_main.bjl
FileGroup1=Default Group
Group=Default Group
Library1=jcore
Library2=jfx
Library3=jokhttputils2
Library4=json
Library5=jxui
Module1=|relative|..\FirebaseAuthREST
NumberOfFiles=1
NumberOfLibraries=5
NumberOfModules=1
Version=8.45
@EndOfDesignText@
#Region Project Attributes 
	#MainFormWidth: 600
	#MainFormHeight: 600 
#End Region

Sub Process_Globals
	Private fx As JFX
	Private MainForm As Form
	Private fa_rest As FirebaseAuthREST
	Private TextField1 As B4XView
	Private TextField2 As B4XView
	
End Sub

Sub AppStart (Form1 As Form, Args() As String)
	MainForm = Form1
	MainForm.RootPane.LoadLayout("frm_main") 'Load the layout file.
	MainForm.Show

	fa_rest.Initialize

End Sub

'Return true to allow the default exceptions handler to handle the uncaught exception.
Sub Application_Error (Error As Exception, StackTrace As String) As Boolean
	Return True
End Sub

Sub Button1_Click
	'fa_rest.signUpEmailPW(TextField1.Text,TextField2.Text,True)
	'fa_rest.sendEmailVerification("VERIFY_EMAIL","eyJhbGciOiJSUzI1NiIsImtpZCI6IjdkNTU0ZjBjMTJjNjQ3MGZiMTg1MmY3OWRiZjY0ZjhjODQzYmIxZDciLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vZmlyLWF1dGhyZXN0IiwiYXVkIjoiZmlyLWF1dGhyZXN0IiwiYXV0aF90aW1lIjoxNTkzMTcxMDkyLCJ1c2VyX2lkIjoiSHJYRDVBTmxsdVhGS1U2dHo1eFhXZWZlS3JKMyIsInN1YiI6IkhyWEQ1QU5sbHVYRktVNnR6NXhYV2VmZUtySjMiLCJpYXQiOjE1OTMxNzEwOTIsImV4cCI6MTU5MzE3NDY5MiwiZW1haWwiOiJhbGV4Ljk4LnN0b2x0ZUBnbXguZGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsiYWxleC45OC5zdG9sdGVAZ214LmRlIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifX0.O25yvIegl6swvcshGhpqYyH5YEYTGCx4Dz196gw-XMThDDTOTA5zfzZ7GASt-HgVRmfUHqVlGUT6nDkVD0Y519f27FAHm81CpSEtP0wmGcQvpHs92W_cCCeLVnH-ge38IvW35dId9MxTtDc5dZULO_kNjNjRBII7OKcCq_k21LZjq9pL13vVR8C-d_MVFBCLg1NRf1ffCgcfcWYKRXUN1GMK2yC7qdfdd5Ty-0Mz5vxuU9Ue4uzPZy4HGHdrS5CuCeOetSi3q-mfGpTDzLec5CLDLpVn8knjIBO0etFJobE0QTnC_TdPsz1GfXyFT6kOb6T1kzkWmDevo1Jn9sxAwQ")
	'fa_rest.signInEmailPW(TextField1.Text,TextField2.Text,True)
	
	Wait For (fa_rest.signInEmailPW(TextField1.Text,TextField2.Text,True)) complete (root As Map)
	
	If root.Get("success") = True Then		
		For Each k As String In root.Keys
			Log("Key: " & k & CRLF & "Value: " & root.Get(k))
		Next		
	Else
		Log("ErrorCode: " & fa_rest.getErrorCode(root))
		Log("ErrorMessage: " & fa_rest.getErrorMessage(root))
		Log("Reason: " & fa_rest.getErrorMap(root).Get("reason"))
		Log("Domain: " & fa_rest.getErrorMap(root).Get("domain"))
		Log("Message: " & fa_rest.getErrorMap(root).Get("message"))
	End If

End Sub

'1. signUpEmailPW
'2. sendEmailVerification -> idToken from signUpEmailPW
'3. signInEmailPW